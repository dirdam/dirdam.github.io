<!-- Copyright (c) Adrián Jiménez Pascual -  All rights reserved -->
<!-- This page and its content is protected under copyright and intellectual property laws.  -->
<!-- The content belongs to Adrián Jiménez Pascual, Tokio, Japan -->
<!-- All rights reserved. -->
<!--
  **  Lawbreakers will be reported to competent authorities and sentenced by the law   **
-->
<!--Copyright (c) Adrián Jiménez Pascual - http://www.ms.u-tokyo.ac.jp/~adri/ -->

<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta name="viewport" content="width=device-width, user-scalable=no">
<link rel="shortcut icon" href="../Lasso_logo.ico"/>

<title>Weekly time</title>

<table style="width: 100%; height: 89%; border-collapse: collapse;" border="1">
  <tr>
    <th>Día</th>
    <th>Entrada</th> 
    <th>Salida</th>
  </tr>
  <tr align="center">
    <td>Lunes</td>
    <td><input type="time" value="15:00"></td>
    <td><input type="time" value="19:00"></td>
  </tr>
  <tr align="center">
    <td>Martes</td>
    <td><input type="time" value="15:00"></td>
    <td><input type="time" value="19:00"></td>
  </tr>
  <tr align="center">
    <td>Miércoles</td>
    <td><input type="time" value="00:00"></td>
    <td><input type="time" value="00:00"></td>
  </tr>
  <tr align="center">
    <td>Jueves</td>
    <td><input type="time" value="00:00"></td>
    <td><input type="time" value="00:00"></td>
  </tr>
  <tr align="center">
    <td>Viernes</td>
    <td><input type="time" value="15:00"></td>
    <td><input type="time" value="19:00"></td>
  </tr>
  <tr align="center">
    <td>Sábado</td>
    <td><input type="time" value="09:00"></td>
    <td><input type="time" value="17:00"></td>
  </tr>
  <tr align="center">
    <td>Domingo</td>
    <td><input type="time" value="09:00"></td>
    <td><input type="time" value="17:00"></td>
  </tr>
</table>
<div style="text-align: center">
	<button type="button" style="width: 50%; height: 11%" onclick="execute()">Calcular</button>
</div>


<script>
	var days = ["lunes", "martes", "miércoles", "jueves", "viernes", "sábado", "domingo"];
	var execute = function() {
		var count = 0;
		for (var i = 0; i < 7; i++) {
			if (document.getElementsByTagName('input')[i*2].value > document.getElementsByTagName('input')[i*2 + 1].value) {
				alert("Hora mal metida el " + days[i]);
				return;
			}
			count += diff_hour(document.getElementsByTagName('input')[i*2].value, document.getElementsByTagName('input')[i*2 + 1].value);
		}
		var h = Math.floor(count);
		var m = Math.floor((count - Math.floor(count))*60);
		alert("Trabajo semanal: " + h + " horas y " + m + " minutos.");
	}

	var diff_hour = function(a, b) {
		a = a.split(":");
		a = parseInt(a[0]) + parseInt(a[1])/60;
		b = b.split(":");
		b = parseInt(b[0]) + parseInt(b[1])/60;
		return b - a;
	}
</script>