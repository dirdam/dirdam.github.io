<!-- Copyright (c) Adrián Jiménez Pascual -  All rights reserved -->
<!-- This page and its content is protected under copyright and intellectual property laws.  -->
<!-- The content belongs to Adrián Jiménez Pascual, Tokio, Japan -->
<!-- All rights reserved. -->
<!--
  **  Lawbreakers will be reported to competent authorities and sentenced by the law   **
-->
<!--Copyright (c) Adrián Jiménez Pascual - http://www.ms.u-tokyo.ac.jp/~adri/ -->

<form id="formWidth"></form>
<form id="formHeight"></form>
<form id="formArrows"></form>
<form id="formNumbers"></form>
<form id="formCopyright"></form>
<input type="number" id="gridWidth" value="10" min="1">
<input type="number" id="gridHeight" value="10" min="1">
<input type="button" id="settingsButton" value="Resize" onclick="startNew()">
<input type="button" id="actionButton" value="Calculate" onclick="calculate()"> <!--style="height: 30px; width: 120px"-->
<input type="checkbox" id="checkArrows" checked onchange="checks()">
<input type="checkbox" id="checkNumbers" checked onchange="checks()">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="shortcut icon" href="../Lasso_logo.ico"/>

<title>Embroidery</title>

<script>
var _0xf3b7=["\x63\x6F\x6F\x72\x64\x58","\x63\x6F\x6F\x72\x64\x59","\x78","\x79","\x64\x72\x61\x77","\x70\x72\x6F\x74\x6F\x74\x79\x70\x65","\x66\x69\x6C\x6C\x53\x74\x79\x6C\x65","\x62\x65\x67\x69\x6E\x50\x61\x74\x68","\x6D\x69\x6E","\x50\x49","\x61\x72\x63","\x66\x69\x6C\x6C","\x6E\x65\x78\x74\x54\x6F","\x61\x62\x73","\x70\x6F\x69\x6E\x74\x31","\x70\x6F\x69\x6E\x74\x32","\x75\x70","\x64\x6F\x77\x6E","\x6F\x72\x64\x65\x72","\x73\x74\x72\x6F\x6B\x65\x53\x74\x79\x6C\x65","\x6C\x69\x6E\x65\x57\x69\x64\x74\x68","\x6D\x6F\x76\x65\x54\x6F","\x6C\x69\x6E\x65\x54\x6F","\x73\x74\x72\x6F\x6B\x65","\x64\x72\x61\x77\x55\x70","\x64\x72\x61\x77\x44\x6F\x77\x6E","\x64\x72\x61\x77\x4E\x75\x6D\x62\x65\x72\x73","\x66\x6F\x6E\x74","\x70\x78\x20\x56\x65\x72\x64\x61\x6E\x61","\x67\x6C\x6F\x62\x61\x6C\x41\x6C\x70\x68\x61","\x77\x69\x64\x74\x68","\x6D\x65\x61\x73\x75\x72\x65\x54\x65\x78\x74","\x66\x69\x6C\x6C\x54\x65\x78\x74","\x65\x6C\x65\x6D\x65\x6E\x74","\x61\x64\x64\x45\x6C\x65\x6D\x65\x6E\x74","\x70\x75\x73\x68","\x72\x67\x62\x28","\x2C","\x29","\x72\x67\x62\x28\x31\x32\x38\x2C\x31\x32\x38\x2C\x31\x32\x38\x29","\x62\x6C\x75\x65","\x72\x67\x62\x28\x32\x33\x30\x2C\x31\x30\x30\x2C\x31\x30\x30\x29","\x72\x67\x62\x28\x31\x30\x30\x2C\x32\x33\x30\x2C\x31\x30\x30\x29","\x69\x6E\x6E\x65\x72\x48\x54\x4D\x4C","\x57\x69\x64\x74\x68\x20\x3A\x20","\x48\x65\x69\x67\x68\x74\x3A\x20","\x41\x72\x72\x6F\x77\x73\x3A\x20","\x4E\x75\x6D\x62\x65\x72\x73\x3A\x20","\xA9\x41\x64\x72\xEF","\x61\x70\x70\x65\x6E\x64\x43\x68\x69\x6C\x64","\x68\x65\x69\x67\x68\x74","\x73\x74\x79\x6C\x65","\x32\x30\x70\x78","\x34\x30\x70\x78","\x62\x61\x63\x6B\x67\x72\x6F\x75\x6E\x64","\x33\x30\x70\x78","\x70\x78","\x63\x68\x65\x63\x6B\x65\x64","\x63\x61\x6E\x76\x61\x73","\x63\x72\x65\x61\x74\x65\x45\x6C\x65\x6D\x65\x6E\x74","\x62\x6F\x64\x79","\x32\x64","\x67\x65\x74\x43\x6F\x6E\x74\x65\x78\x74","\x70\x6F\x73\x69\x74\x69\x6F\x6E","\x61\x62\x73\x6F\x6C\x75\x74\x65","\x6C\x65\x66\x74","\x74\x6F\x70","\x66\x69\x6C\x6C\x52\x65\x63\x74","\x76\x61\x6C\x75\x65","\x6C\x65\x6E\x67\x74\x68","\x69\x6E\x64\x65\x78\x4F\x66","\x75\x6E\x73\x68\x69\x66\x74","\x63\x6C\x69\x65\x6E\x74\x58","\x74\x6F\x75\x63\x68\x65\x73","\x63\x6C\x69\x65\x6E\x74\x59","\x66\x6C\x6F\x6F\x72"];var _0x85c7=[_0xf3b7[0],_0xf3b7[1],_0xf3b7[2],_0xf3b7[3],_0xf3b7[4],_0xf3b7[5],_0xf3b7[6],_0xf3b7[7],_0xf3b7[8],_0xf3b7[9],_0xf3b7[10],_0xf3b7[11],_0xf3b7[12],_0xf3b7[13],_0xf3b7[14],_0xf3b7[15],_0xf3b7[16],_0xf3b7[17],_0xf3b7[18],_0xf3b7[19],_0xf3b7[20],_0xf3b7[21],_0xf3b7[22],_0xf3b7[23],_0xf3b7[24],_0xf3b7[25],_0xf3b7[26],_0xf3b7[27],_0xf3b7[28],_0xf3b7[29],_0xf3b7[30],_0xf3b7[31],_0xf3b7[32],_0xf3b7[33],_0xf3b7[34],_0xf3b7[35],_0xf3b7[36],_0xf3b7[37],_0xf3b7[38],_0xf3b7[39],_0xf3b7[40],_0xf3b7[41],_0xf3b7[42],_0xf3b7[43],_0xf3b7[44],_0xf3b7[45],_0xf3b7[46],_0xf3b7[47],_0xf3b7[48],_0xf3b7[49],_0xf3b7[50],_0xf3b7[51],_0xf3b7[52],_0xf3b7[53],_0xf3b7[54],_0xf3b7[55],_0xf3b7[56],_0xf3b7[57],_0xf3b7[58],_0xf3b7[59],_0xf3b7[60],_0xf3b7[61],_0xf3b7[62],_0xf3b7[63],_0xf3b7[64],_0xf3b7[65],_0xf3b7[66],_0xf3b7[67],_0xf3b7[68],_0xf3b7[69],_0xf3b7[70],_0xf3b7[71],_0xf3b7[72],_0xf3b7[73],_0xf3b7[74],_0xf3b7[75]];var Point=function(_0x8f3dx3,_0x8f3dx4){this[_0x85c7[0]]= _0x8f3dx3;this[_0x85c7[1]]= _0x8f3dx4;this[_0x85c7[2]]= unitX* this[_0x85c7[0]];this[_0x85c7[3]]= unitY* this[_0x85c7[1]]};Point[_0x85c7[5]][_0x85c7[4]]= function(_0x8f3dx5){context[_0x85c7[6]]= arrowsColor;context[_0x85c7[7]]();if(_0x8f3dx5){context[_0x85c7[10]](this[_0x85c7[2]],this[_0x85c7[3]],Math[_0x85c7[8]](unitX,unitY)/ 10,0,2* Math[_0x85c7[9]]);context[_0x85c7[11]]();context[_0x85c7[6]]= canvasColor;context[_0x85c7[7]]();context[_0x85c7[10]](this[_0x85c7[2]],this[_0x85c7[3]],Math[_0x85c7[8]](unitX,unitY)/ 12,0,2* Math[_0x85c7[9]]);context[_0x85c7[11]]();context[_0x85c7[6]]= arrowsColor;context[_0x85c7[7]]();context[_0x85c7[10]](this[_0x85c7[2]],this[_0x85c7[3]],Math[_0x85c7[8]](unitX,unitY)/ 25,0,2* Math[_0x85c7[9]])}else {context[_0x85c7[10]](this[_0x85c7[2]],this[_0x85c7[3]],Math[_0x85c7[8]](unitX,unitY)/ 10,0,2* Math[_0x85c7[9]])};context[_0x85c7[11]]()};Point[_0x85c7[5]][_0x85c7[12]]= function(_0x8f3dx6){var _0x8f3dx7=true;if(Math[_0x85c7[13]](this[_0x85c7[0]]- _0x8f3dx6[_0x85c7[0]])> 1|| Math[_0x85c7[13]](this[_0x85c7[1]]- _0x8f3dx6[_0x85c7[1]])> 1){_0x8f3dx7= false};return _0x8f3dx7};var Segment=function(_0x8f3dx9,_0x8f3dxa){this[_0x85c7[14]]= _0x8f3dx9;this[_0x85c7[15]]= _0x8f3dxa;this[_0x85c7[16]]= false;this[_0x85c7[17]]= false;this[_0x85c7[18]]= 0};Segment[_0x85c7[5]][_0x85c7[4]]= function(_0x8f3dxb){context[_0x85c7[19]]= arrowsColor;context[_0x85c7[20]]= _0x8f3dxb;context[_0x85c7[7]]();context[_0x85c7[21]](this[_0x85c7[14]][_0x85c7[2]],this[_0x85c7[14]][_0x85c7[3]]);context[_0x85c7[22]](this[_0x85c7[15]][_0x85c7[2]],this[_0x85c7[15]][_0x85c7[3]]);context[_0x85c7[23]]()};Segment[_0x85c7[5]][_0x85c7[24]]= function(){var _0x8f3dxc=Math[_0x85c7[8]](unitX,unitY)/ 8;var _0x8f3dxd=(this[_0x85c7[15]][_0x85c7[2]]- this[_0x85c7[14]][_0x85c7[2]]!= 0?Math[_0x85c7[13]](this[_0x85c7[15]][_0x85c7[2]]- this[_0x85c7[14]][_0x85c7[2]])/ (this[_0x85c7[15]][_0x85c7[2]]- this[_0x85c7[14]][_0x85c7[2]]):0);var _0x8f3dxe=(this[_0x85c7[15]][_0x85c7[3]]- this[_0x85c7[14]][_0x85c7[3]]!= 0?-Math[_0x85c7[13]](this[_0x85c7[15]][_0x85c7[3]]- this[_0x85c7[14]][_0x85c7[3]])/ (this[_0x85c7[15]][_0x85c7[3]]- this[_0x85c7[14]][_0x85c7[3]]):0);context[_0x85c7[19]]= arrowsColor;context[_0x85c7[20]]= 2;context[_0x85c7[7]]();context[_0x85c7[21]](this[_0x85c7[14]][_0x85c7[2]]+ _0x8f3dxc* _0x8f3dxd,this[_0x85c7[14]][_0x85c7[3]]- _0x8f3dxc* _0x8f3dxe);context[_0x85c7[22]](this[_0x85c7[15]][_0x85c7[2]]- _0x8f3dxc* _0x8f3dxd,this[_0x85c7[15]][_0x85c7[3]]+ _0x8f3dxc* _0x8f3dxe);context[_0x85c7[21]](this[_0x85c7[15]][_0x85c7[2]]- _0x8f3dxc* _0x8f3dxd,this[_0x85c7[15]][_0x85c7[3]]+ _0x8f3dxc* _0x8f3dxe);context[_0x85c7[22]]((this[_0x85c7[14]][_0x85c7[2]]+ this[_0x85c7[15]][_0x85c7[2]])/ 2+ _0x8f3dxc* _0x8f3dxe,(this[_0x85c7[14]][_0x85c7[3]]+ this[_0x85c7[15]][_0x85c7[3]])/ 2+ _0x8f3dxc* _0x8f3dxd);context[_0x85c7[21]](this[_0x85c7[15]][_0x85c7[2]]- _0x8f3dxc* _0x8f3dxd,this[_0x85c7[15]][_0x85c7[3]]+ _0x8f3dxc* _0x8f3dxe);context[_0x85c7[22]]((this[_0x85c7[14]][_0x85c7[2]]+ this[_0x85c7[15]][_0x85c7[2]])/ 2- _0x8f3dxc* _0x8f3dxe,(this[_0x85c7[14]][_0x85c7[3]]+ this[_0x85c7[15]][_0x85c7[3]])/ 2- _0x8f3dxc* _0x8f3dxd);context[_0x85c7[23]]()};Segment[_0x85c7[5]][_0x85c7[25]]= function(){var _0x8f3dxc=Math[_0x85c7[8]](unitX,unitY)/ 8;var _0x8f3dxd=(this[_0x85c7[15]][_0x85c7[2]]- this[_0x85c7[14]][_0x85c7[2]]!= 0?Math[_0x85c7[13]](this[_0x85c7[15]][_0x85c7[2]]- this[_0x85c7[14]][_0x85c7[2]])/ (this[_0x85c7[15]][_0x85c7[2]]- this[_0x85c7[14]][_0x85c7[2]]):0);var _0x8f3dxe=(this[_0x85c7[15]][_0x85c7[3]]- this[_0x85c7[14]][_0x85c7[3]]!= 0?-Math[_0x85c7[13]](this[_0x85c7[15]][_0x85c7[3]]- this[_0x85c7[14]][_0x85c7[3]])/ (this[_0x85c7[15]][_0x85c7[3]]- this[_0x85c7[14]][_0x85c7[3]]):0);context[_0x85c7[19]]= arrowsColor;context[_0x85c7[20]]= 2;context[_0x85c7[7]]();context[_0x85c7[21]](this[_0x85c7[14]][_0x85c7[2]]+ _0x8f3dxc* _0x8f3dxd,this[_0x85c7[14]][_0x85c7[3]]- _0x8f3dxc* _0x8f3dxe);context[_0x85c7[22]](this[_0x85c7[15]][_0x85c7[2]]- _0x8f3dxc* _0x8f3dxd,this[_0x85c7[15]][_0x85c7[3]]+ _0x8f3dxc* _0x8f3dxe);context[_0x85c7[21]](this[_0x85c7[14]][_0x85c7[2]]+ _0x8f3dxc* _0x8f3dxd,this[_0x85c7[14]][_0x85c7[3]]- _0x8f3dxc* _0x8f3dxe);context[_0x85c7[22]]((this[_0x85c7[14]][_0x85c7[2]]+ this[_0x85c7[15]][_0x85c7[2]])/ 2+ _0x8f3dxc* _0x8f3dxe,(this[_0x85c7[14]][_0x85c7[3]]+ this[_0x85c7[15]][_0x85c7[3]])/ 2+ _0x8f3dxc* _0x8f3dxd);context[_0x85c7[21]](this[_0x85c7[14]][_0x85c7[2]]+ _0x8f3dxc* _0x8f3dxd,this[_0x85c7[14]][_0x85c7[3]]- _0x8f3dxc* _0x8f3dxe);context[_0x85c7[22]]((this[_0x85c7[14]][_0x85c7[2]]+ this[_0x85c7[15]][_0x85c7[2]])/ 2- _0x8f3dxc* _0x8f3dxe,(this[_0x85c7[14]][_0x85c7[3]]+ this[_0x85c7[15]][_0x85c7[3]])/ 2- _0x8f3dxc* _0x8f3dxd);context[_0x85c7[23]]()};Segment[_0x85c7[5]][_0x85c7[26]]= function(){var _0x8f3dxc=Math[_0x85c7[8]](unitX,unitY)/ 8;context[_0x85c7[27]]= _0x8f3dxc* 2+ _0x85c7[28];context[_0x85c7[6]]= canvasColor;context[_0x85c7[7]]();context[_0x85c7[10]]((this[_0x85c7[14]][_0x85c7[2]]+ this[_0x85c7[15]][_0x85c7[2]])/ 2,(this[_0x85c7[14]][_0x85c7[3]]+ this[_0x85c7[15]][_0x85c7[3]])/ 2,2* _0x8f3dxc,0,2* Math[_0x85c7[9]]);context[_0x85c7[29]]= 0.8;context[_0x85c7[11]]();context[_0x85c7[29]]= 1;context[_0x85c7[6]]= numbersColor;context[_0x85c7[32]](this[_0x85c7[18]],(this[_0x85c7[14]][_0x85c7[2]]+ this[_0x85c7[15]][_0x85c7[2]])/ 2- context[_0x85c7[31]](this[_0x85c7[18]])[_0x85c7[30]]/ 2,(this[_0x85c7[14]][_0x85c7[3]]+ this[_0x85c7[15]][_0x85c7[3]])/ 2+ _0x8f3dxc)};var Catenary=function(){this[_0x85c7[33]]=  new Array()};Catenary[_0x85c7[5]][_0x85c7[34]]= function(_0x8f3dx10){this[_0x85c7[33]][_0x85c7[35]](_0x8f3dx10)};var parseGridWidth;var parseGridHeight;var arrowsR=250;var arrowsG=250;var arrowsB=250;var canvasColor=_0x85c7[36]+ arrowsR+ _0x85c7[37]+ arrowsG+ _0x85c7[37]+ arrowsB+ _0x85c7[38];var arrowsColor=_0x85c7[36]+ (255- arrowsR)+ _0x85c7[37]+ (255- arrowsG)+ _0x85c7[37]+ (255- arrowsB)+ _0x85c7[38];var gridColor=_0x85c7[39];var numbersColor=_0x85c7[40];var settingsColor=_0x85c7[41];var actionColor=_0x85c7[42];onload= function(){formWidth[_0x85c7[43]]= _0x85c7[44];formHeight[_0x85c7[43]]= _0x85c7[45];formArrows[_0x85c7[43]]= _0x85c7[46];formNumbers[_0x85c7[43]]= _0x85c7[47];formCopyright[_0x85c7[43]]= _0x85c7[48];position(formWidth,innerWidth* (1- 1/ 7),innerHeight/ 5);formWidth[_0x85c7[49]](gridWidth);gridWidth[_0x85c7[51]][_0x85c7[50]]= _0x85c7[52];gridWidth[_0x85c7[51]][_0x85c7[30]]= _0x85c7[53];position(formHeight,innerWidth* (1- 1/ 7),innerHeight/ 3.5);formHeight[_0x85c7[49]](gridHeight);gridHeight[_0x85c7[51]][_0x85c7[50]]= _0x85c7[52];gridHeight[_0x85c7[51]][_0x85c7[30]]= _0x85c7[53];position(settingsButton,innerWidth* (1- 1/ 8),innerHeight* 4.5/ 12);settingsButton[_0x85c7[51]][_0x85c7[54]]= settingsColor;position(actionButton,innerWidth* (1- 1/ 6),innerHeight* 1/ 2);actionButton[_0x85c7[51]][_0x85c7[54]]= actionColor;actionButton[_0x85c7[51]][_0x85c7[50]]= _0x85c7[55];actionButton[_0x85c7[51]][_0x85c7[30]]= (innerWidth* (1/ 5- 2/ 30))+ _0x85c7[56];position(formArrows,innerWidth* (1- 1/ 6),innerHeight* 15/ 24);position(checkArrows,innerWidth* (1- 1/ 12),innerHeight* 15/ 24);checkArrows[_0x85c7[57]]= true;position(formNumbers,innerWidth* (1- 1/ 6),innerHeight* 16/ 24);position(checkNumbers,innerWidth* (1- 1/ 12),innerHeight* 16/ 24);checkNumbers[_0x85c7[57]]= true;position(formCopyright,innerWidth* (1- 1/ 8),innerHeight* 4/ 5);canvas= document[_0x85c7[59]](_0x85c7[58]);document[_0x85c7[60]][_0x85c7[49]](canvas);position(canvas,0,0);canvas[_0x85c7[30]]= innerWidth* 4/ 5;canvas[_0x85c7[50]]= innerHeight;context= canvas[_0x85c7[62]](_0x85c7[61]);startNew()};function position(_0x8f3dx1d,_0x8f3dx1e,_0x8f3dx1f){_0x8f3dx1d[_0x85c7[51]][_0x85c7[63]]= _0x85c7[64];_0x8f3dx1d[_0x85c7[51]][_0x85c7[65]]= _0x8f3dx1e;_0x8f3dx1d[_0x85c7[51]][_0x85c7[66]]= _0x8f3dx1f}function clearCanvas(){context[_0x85c7[6]]= canvasColor;context[_0x85c7[67]](0,0,canvas[_0x85c7[30]],canvas[_0x85c7[50]])}function startNew(){clearCanvas();points=  new Array();segments=  new Array();definiteSegments=  new Array();substrings=  new Array();global_order= 0;drawGrid();allow= false}var unitX,unitY;function drawGrid(){parseGridWidth= parseInt(gridWidth[_0x85c7[68]]);parseGridHeight= parseInt(gridHeight[_0x85c7[68]]);unitX= canvas[_0x85c7[30]]/ (parseGridWidth+ 2);unitY= canvas[_0x85c7[50]]/ (parseGridHeight+ 2);context[_0x85c7[19]]= gridColor;context[_0x85c7[20]]= 1;context[_0x85c7[7]]();for(var _0x8f3dx25=0;_0x8f3dx25< parseGridWidth+ 1;_0x8f3dx25++){context[_0x85c7[21]](unitX+ _0x8f3dx25* unitX,unitY);context[_0x85c7[22]](unitX+ _0x8f3dx25* unitX,canvas[_0x85c7[50]]- unitY)};for(var _0x8f3dx25=0;_0x8f3dx25< parseGridHeight+ 1;_0x8f3dx25++){context[_0x85c7[21]](unitX,unitY+ _0x8f3dx25* unitY);context[_0x85c7[22]](canvas[_0x85c7[30]]- unitX,unitY+ _0x8f3dx25* unitY)};context[_0x85c7[23]]()}var allow;function checks(){if(allow){clearCanvas();drawGrid();for(var _0x8f3dx25=0;_0x8f3dx25< definiteSegments[_0x85c7[69]];_0x8f3dx25++){if(checkArrows[_0x85c7[57]]){if(definiteSegments[_0x8f3dx25][_0x85c7[16]]){definiteSegments[_0x8f3dx25][_0x85c7[24]]()};if(definiteSegments[_0x8f3dx25][_0x85c7[17]]){definiteSegments[_0x8f3dx25][_0x85c7[25]]()}}else {definiteSegments[_0x8f3dx25][_0x85c7[4]](1)};if(checkNumbers[_0x85c7[57]]){definiteSegments[_0x8f3dx25][_0x85c7[26]]()}};substrings[0][_0x85c7[33]][0][_0x85c7[14]][_0x85c7[4]](true)}}var definiteSegments;var substrings;function calculate(){allow= true;definiteSegments[_0x85c7[35]](segments[0]);for(var _0x8f3dx25=1;_0x8f3dx25< segments[_0x85c7[69]];_0x8f3dx25++){var _0x8f3dx2b=true;for(var _0x8f3dx2c=0;_0x8f3dx2c< _0x8f3dx25;_0x8f3dx2c++){if((segments[_0x8f3dx25][_0x85c7[14]][_0x85c7[0]]== segments[_0x8f3dx2c][_0x85c7[14]][_0x85c7[0]]&& segments[_0x8f3dx25][_0x85c7[14]][_0x85c7[1]]== segments[_0x8f3dx2c][_0x85c7[14]][_0x85c7[1]]&& segments[_0x8f3dx25][_0x85c7[15]][_0x85c7[0]]== segments[_0x8f3dx2c][_0x85c7[15]][_0x85c7[0]]&& segments[_0x8f3dx25][_0x85c7[15]][_0x85c7[1]]== segments[_0x8f3dx2c][_0x85c7[15]][_0x85c7[1]])|| (segments[_0x8f3dx25][_0x85c7[14]][_0x85c7[0]]== segments[_0x8f3dx2c][_0x85c7[15]][_0x85c7[0]]&& segments[_0x8f3dx25][_0x85c7[14]][_0x85c7[1]]== segments[_0x8f3dx2c][_0x85c7[15]][_0x85c7[1]]&& segments[_0x8f3dx25][_0x85c7[15]][_0x85c7[0]]== segments[_0x8f3dx2c][_0x85c7[14]][_0x85c7[0]]&& segments[_0x8f3dx25][_0x85c7[15]][_0x85c7[1]]== segments[_0x8f3dx2c][_0x85c7[14]][_0x85c7[1]])){_0x8f3dx2b= false}};if(_0x8f3dx2b){definiteSegments[_0x85c7[35]](segments[_0x8f3dx25])}};var _0x8f3dx2d= new Catenary();_0x8f3dx2d[_0x85c7[34]](definiteSegments[0]);for(var _0x8f3dx25=1;_0x8f3dx25< definiteSegments[_0x85c7[69]];_0x8f3dx25++){if((_0x8f3dx2d[_0x85c7[33]][_0x8f3dx2d[_0x85c7[33]][_0x85c7[69]]- 1][_0x85c7[15]][_0x85c7[0]]!= definiteSegments[_0x8f3dx25][_0x85c7[14]][_0x85c7[0]])|| (_0x8f3dx2d[_0x85c7[33]][_0x8f3dx2d[_0x85c7[33]][_0x85c7[69]]- 1][_0x85c7[15]][_0x85c7[1]]!= definiteSegments[_0x8f3dx25][_0x85c7[14]][_0x85c7[1]])){substrings[_0x85c7[35]](_0x8f3dx2d);_0x8f3dx2d=  new Catenary();_0x8f3dx2d[_0x85c7[34]](definiteSegments[_0x8f3dx25])}else {_0x8f3dx2d[_0x85c7[34]](definiteSegments[_0x8f3dx25])}};substrings[_0x85c7[35]](_0x8f3dx2d);clearCanvas();drawGrid();number(substrings[0],1);checks()}var global_order;function number(_0x8f3dx2d,_0x8f3dx30){var _0x8f3dx31=true;var _0x8f3dx32=substrings[_0x85c7[70]](_0x8f3dx2d);var _0x8f3dx33= new Array();var _0x8f3dx34= new Array();var _0x8f3dx35=false;for(var _0x8f3dx25=0;_0x8f3dx25< substrings[_0x85c7[69]];_0x8f3dx25++){if(_0x8f3dx25!= _0x8f3dx32){for(var _0x8f3dx2c=0;_0x8f3dx2c< _0x8f3dx2d[_0x85c7[33]][_0x85c7[69]];_0x8f3dx2c++){if(substrings[_0x8f3dx25][_0x85c7[33]][0][_0x85c7[14]][_0x85c7[0]]== _0x8f3dx2d[_0x85c7[33]][_0x8f3dx2c][_0x85c7[15]][_0x85c7[0]]&& substrings[_0x8f3dx25][_0x85c7[33]][0][_0x85c7[14]][_0x85c7[1]]== _0x8f3dx2d[_0x85c7[33]][_0x8f3dx2c][_0x85c7[15]][_0x85c7[1]]){_0x8f3dx31= false;_0x8f3dx33[_0x85c7[35]](_0x8f3dx25);_0x8f3dx34[_0x85c7[35]](_0x8f3dx2c)}}};if(_0x8f3dx32== 0&& _0x8f3dx25!= 0&& substrings[_0x8f3dx25][_0x85c7[33]][0][_0x85c7[14]][_0x85c7[0]]== _0x8f3dx2d[_0x85c7[33]][0][_0x85c7[14]][_0x85c7[0]]&& substrings[_0x8f3dx25][_0x85c7[33]][0][_0x85c7[14]][_0x85c7[1]]== _0x8f3dx2d[_0x85c7[33]][0][_0x85c7[14]][_0x85c7[1]]){_0x8f3dx31= false;_0x8f3dx33[_0x85c7[71]](_0x8f3dx25);_0x8f3dx34[_0x85c7[71]](0);_0x8f3dx35= true}};for(var _0x8f3dx25=0;_0x8f3dx25< _0x8f3dx2d[_0x85c7[33]][_0x85c7[69]];_0x8f3dx25++){if(!_0x8f3dx31&& _0x8f3dx35){number(substrings[_0x8f3dx33[0]],_0x8f3dx30* (_0x8f3dx25% 2== 0?1:-1))};if(!_0x8f3dx2d[_0x85c7[33]][_0x8f3dx25][_0x85c7[16]]&& !_0x8f3dx2d[_0x85c7[33]][_0x8f3dx25][_0x85c7[17]]){if((_0x8f3dx25% 2== 0&& _0x8f3dx30== 1)|| (_0x8f3dx25% 2== 1&& _0x8f3dx30!= 1)){global_order++;_0x8f3dx2d[_0x85c7[33]][_0x8f3dx25][_0x85c7[18]]= global_order;_0x8f3dx2d[_0x85c7[33]][_0x8f3dx25][_0x85c7[16]]= true}};checks();if(!_0x8f3dx31){for(var _0x8f3dx2c=0;_0x8f3dx2c< _0x8f3dx34[_0x85c7[69]];_0x8f3dx2c++){if(!_0x8f3dx35|| _0x8f3dx2c!= 0){if(_0x8f3dx25== _0x8f3dx34[_0x8f3dx2c]&& _0x8f3dx33[_0x8f3dx2c]!= 0){number(substrings[_0x8f3dx33[_0x8f3dx2c]],_0x8f3dx30* (_0x8f3dx25% 2== 0?-1:1))}}}}};for(var _0x8f3dx25=_0x8f3dx2d[_0x85c7[33]][_0x85c7[69]]- 1;_0x8f3dx25>= 0;_0x8f3dx25--){if(!_0x8f3dx2d[_0x85c7[33]][_0x8f3dx25][_0x85c7[16]]&& !_0x8f3dx2d[_0x85c7[33]][_0x8f3dx25][_0x85c7[17]]){global_order++;_0x8f3dx2d[_0x85c7[33]][_0x8f3dx25][_0x85c7[18]]= global_order;_0x8f3dx2d[_0x85c7[33]][_0x8f3dx25][_0x85c7[17]]= true}}}ontouchstart= function(_0x8f3dx36){var _0x8f3dx37=_0x8f3dx36[_0x85c7[73]][0][_0x85c7[72]];var _0x8f3dx38=_0x8f3dx36[_0x85c7[73]][0][_0x85c7[74]];commonStart(_0x8f3dx37,_0x8f3dx38)};onmousedown= function(_0x8f3dx36){var _0x8f3dx37=_0x8f3dx36[_0x85c7[72]];var _0x8f3dx38=_0x8f3dx36[_0x85c7[74]];commonStart(_0x8f3dx37,_0x8f3dx38)};var points;var segments;function commonStart(_0x8f3dx37,_0x8f3dx38){var _0x8f3dx3c=Math[_0x85c7[75]]((_0x8f3dx37+ unitX/ 2)/ unitX);var _0x8f3dx3d=Math[_0x85c7[75]]((_0x8f3dx38+ unitY/ 2)/ unitY);if(1<= _0x8f3dx3c&& _0x8f3dx3c<= parseGridWidth+ 1&& 1<= _0x8f3dx3d&& _0x8f3dx3d<= parseGridHeight+ 1){if(allow){startNew()};var _0x8f3dx3e= new Point(_0x8f3dx3c,_0x8f3dx3d);if(points[_0x85c7[69]]== 0|| points[points[_0x85c7[69]]- 1][_0x85c7[12]](_0x8f3dx3e)){if(points[_0x85c7[69]]== 0|| (points[points[_0x85c7[69]]- 1][_0x85c7[0]]!= _0x8f3dx3e[_0x85c7[0]]|| points[points[_0x85c7[69]]- 1][_0x85c7[1]]!= _0x8f3dx3e[_0x85c7[1]])){points[_0x85c7[35]](_0x8f3dx3e)};if(points[_0x85c7[69]]> 1){segments[_0x85c7[35]]( new Segment(points[points[_0x85c7[69]]- 2],_0x8f3dx3e));clearCanvas();drawGrid();for(var _0x8f3dx25=0;_0x8f3dx25< segments[_0x85c7[69]];_0x8f3dx25++){segments[_0x8f3dx25][_0x85c7[4]](3)}};_0x8f3dx3e[_0x85c7[4]](false)}}}
</script>